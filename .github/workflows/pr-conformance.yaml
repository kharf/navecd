# AUTOGENERATED - DO NOT EDIT

name: PR-Conformance
"on":
  pull_request:
    branches:
      - '*'
    tags-ignore:
      - '*'
jobs:
  Reconcile-Workflows:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.3.0
        with:
          token: ${{ secrets.PAT }}
          ref: ${{ github.head_ref || github.ref_name }}
      - name: Generate Workflows
        uses: dagger/dagger-for-github@8.0.0
        with:
          call: gen-workflows --source=. export --path=.github/workflows
      - name: Commit Workflows
        uses: dagger/dagger-for-github@8.0.0
        with:
          call: commit-workflows --source=. --token=env:GITHUB_TOKEN
        env:
          GITHUB_TOKEN: ${{ secrets.PAT }}
  Test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.3.0
        with:
          token: ${{ secrets.PAT }}
          ref: ${{ github.head_ref || github.ref_name }}
      - name: Test
        uses: dagger/dagger-for-github@8.0.0
        with:
          call: test --source=.
permissions: read-all
